"use strict";function asyncGeneratorStep(e,t,n,o,r,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,r)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function a(e){asyncGeneratorStep(i,o,r,a,s,"next",e)}function s(e){asyncGeneratorStep(i,o,r,a,s,"throw",e)}a(void 0)}))}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}!function(){NodeList.prototype[Symbol.iterator]||(NodeList.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator]),HTMLCollection.prototype[Symbol.iterator]||(HTMLCollection.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator]),NamedNodeMap.prototype[Symbol.iterator]||(NamedNodeMap.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator]);var e={init:function(e){var t=this;this.navbar=document.querySelector(".navbar"),this.scroll(),e&&(window.addEventListener("scroll",(function(){return t.scroll()})),document.querySelector("#toggle-menu").addEventListener("click",(function(){return s.toggle()})),document.querySelector("#back-to-top").addEventListener("click",(function(){try{window.scrollTo({top:0,behavior:"smooth"})}catch(e){window.scrollTo(0,0)}})))},scroll:function(){var e=document.documentElement.scrollTop||window.scrollY;this.navbar.classList.toggle("navbar-active",e>0)}},t={init:function(e){var t=this;e&&(this.isDesktop=document.documentElement.clientWidth>768,this.callbacks=[],window.addEventListener("resize",(function(){var e=document.documentElement.clientWidth>768;if(t.isDesktop!==e){t.isDesktop=e,document.body.classList.add("no-transition");var n,o=_createForOfIteratorHelper(t.callbacks);try{for(o.s();!(n=o.n()).done;){(0,n.value)(e)}}catch(e){o.e(e)}finally{o.f()}setTimeout((function(){document.body.classList.remove("no-transition")}),20)}})))}},n=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:199;_classCallCheck(this,e),this.element=null,this.hideTimer=-1,this.zIndex=t,this.onshow=function(){},this.onshown=function(){},this.onhide=function(){},this.onhidden=function(){},this.onclick=function(){}}return _createClass(e,[{key:"ensureElement",value:function(){null===this.element&&(this.element=document.createElement("div"),this.element.className="backdrop",this.element.style.zIndex=this.zIndex,this.element.addEventListener("click",this.onclick),document.body.appendChild(this.element),e.count++,document.body.classList.add("no-overflow"))}},{key:"setOpacity",value:function(e){null!==this.element&&(this.element.style.opacity=e)}},{key:"show",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];clearTimeout(this.hideTimer),this.hideTimer=-1,this.ensureElement(),this.onshow(),t?(this.element.style.opacity=1,this.onshown()):(setTimeout((function(){e.element.style.opacity=1}),20),setTimeout((function(){return e.onshown()}),250))}},{key:"hide",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null!==this.element&&(this.onhide(),this.element.style.opacity=0,n?(this.element.remove(),this.element=null,0==--e.count&&document.body.classList.remove("no-overflow"),this.onhidden()):-1===this.hideTimer&&(this.hideTimer=setTimeout((function(){t.element.remove(),t.element=null,t.hideTimer=-1,0==--e.count&&document.body.classList.remove("no-overflow"),t.onhidden()}),250)))}},{key:"beginSwipe",value:function(){this.ensureElement(),this.element.style.transition="none"}},{key:"endSwipe",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.element.style.removeProperty("transition"),e?this.show():this.hide()}}]),e}();function o(e,t,n){return Math.min(Math.max(e,t),n)}n.count=0;var r,i,a,s={close:function(){this.backdrop.hide()},toggle:function(){var e=this,n=document.body.classList.toggle("sidebar-toggled");t.isDesktop?localStorage.setItem("sidebar-toggled",n):(this.backdrop.show(),this.sidebar.style.left="-240px",setTimeout((function(){e.sidebar.style.removeProperty("left")}),20))},init:function(e){var r=this;if(e){this.sidebar=document.querySelector(".sidebar"),this.backdrop=new n,this.disabled=!1,this.backdrop.onshow=function(){document.body.classList.add("sidebar-toggled")},this.backdrop.onhide=function(){document.body.classList.remove("sidebar-toggled"),r.sidebar.style.display="block"},this.backdrop.onhidden=function(){r.sidebar.style.removeProperty("display")},this.backdrop.onclick=function(){return r.backdrop.hide()},t.callbacks.push((function(e){e?(document.body.classList.toggle("sidebar-toggled","true"==localStorage.getItem("sidebar-toggled")),r.backdrop.hide(!0)):document.body.classList.remove("sidebar-toggled")})),"true"===localStorage.getItem("sidebar-toggled")&&t.isDesktop&&(document.body.classList.add("no-transition"),document.body.classList.add("sidebar-toggled"),setTimeout((function(){document.body.classList.remove("no-transition")}),20));var i=24,a=0,s=0,c=!1,l=!1;window.addEventListener("touchstart",(function(e){a=e.touches[0].clientX,s=0,l=!1,t.isDesktop||r.disabled||!(document.body.classList.contains("sidebar-toggled")||a<24)||(c=!0)})),window.addEventListener("touchmove",(function(e){if(c){s=e.touches[0].clientX-a;var t=document.body.classList.contains("sidebar-toggled");if(t?s<-24:s>i)if(l||(l=!0,r.sidebar.style.transition="none",r.sidebar.style.display="block",r.backdrop.beginSwipe()),t){var n=o(s+i,-r.sidebar.clientWidth,0);r.sidebar.style.left="".concat(n,"px"),r.backdrop.setOpacity(1+n/r.sidebar.clientWidth)}else{var d=o(s-i,0,r.sidebar.clientWidth);r.sidebar.style.left="".concat(d-r.sidebar.clientWidth,"px"),r.backdrop.setOpacity(d/r.sidebar.clientWidth)}}})),window.addEventListener("touchend",(function(){if(c){c=!1,r.sidebar.style.removeProperty("left"),r.sidebar.style.removeProperty("transition");var e=document.body.classList.contains("sidebar-toggled"),t=e?s>-24:s>i;e!==t&&r.backdrop.endSwipe(t),t&&r.sidebar.style.removeProperty("display")}}));var d,u=_createForOfIteratorHelper(this.sidebar.querySelectorAll(".menu-link"));try{for(u.s();!(d=u.n()).done;){d.value.addEventListener("click",(function(){r.backdrop.hide()}))}}catch(e){u.e(e)}finally{u.f()}}}},c={init:function(e){e&&Waves.init(),Waves.attach(".btn-icon"),Waves.attach(".menu-link"),Waves.attach(".post-link"),Waves.attach(".chip"),Waves.attach(".filter a"),Waves.attach("a.paginator-item")}},l={init:function(e){if(e){for(var t=function(){var e=i[r],t=document.querySelector("#settings-".concat(e)),n=t.querySelector("button");"true"===localStorage.getItem(e)&&(document.body.classList.add(e),n.classList.add("active")),t.addEventListener("click",(function(){var t=n.classList.toggle("active");localStorage.setItem(e,t),document.body.classList.toggle(e,t),window.dispatchEvent(new CustomEvent("settingsChanged",{detail:{key:e,value:t}}))}))},r=0,i=["dark","serif","justify"];r<i.length;r++)t();for(var a=function(){var e=_slicedToArray(l[c],3),t=e[0],n=e[1],o=e[2];null===localStorage.getItem(t)&&localStorage.setItem(t,n);var r=document.querySelector("#settings-".concat(t)).children,i=localStorage.getItem(t);o(i);var a,s=r[0],d=_createForOfIteratorHelper(r);try{var u=function(){var e=a.value;i===e.dataset.value&&(e.classList.add("active"),s=e),e.addEventListener("click",(function(){o(e.dataset.value),localStorage.setItem(t,e.dataset.value),s.classList.remove("active"),e.classList.add("active"),s=e}))};for(d.s();!(a=d.n()).done;)u()}catch(e){d.e(e)}finally{d.f()}},c=0,l=[["width",1024,function(e){document.body.style.setProperty("--content-width","0"===e?"none":"".concat(e,"px"))}],["size",1,function(e){document.body.style.setProperty("--font-size","".concat(e,"em"))}]];c<l.length;c++)a();var d=document.querySelector("#settings-dialog"),u=new n(299);u.onshow=function(){d.classList.add("open"),s.disabled=!0},u.onhide=function(){d.style.bottom="-".concat(d.clientHeight,"px"),s.disabled=!1},u.onhidden=function(){d.classList.remove("open"),d.style.removeProperty("bottom")},u.onclick=function(){return u.hide()},document.querySelector("#settings").addEventListener("click",(function(){s.close(),u.show(),d.style.transition="none",d.style.bottom="-".concat(d.clientHeight,"px"),setTimeout((function(){d.style.removeProperty("bottom"),d.style.removeProperty("transition")}),20)}));var y=0,h=0,f=!1,m=!1;window.addEventListener("touchstart",(function(e){y=e.touches[0].clientY,h=0,m=!1,d.classList.contains("open")&&(f=!0)})),window.addEventListener("touchmove",(function(e){if(f&&(h=e.touches[0].clientY-y)>24){m||(m=!0,d.style.transition="none",u.beginSwipe());var t=o(h-24,0,d.clientHeight);d.style.bottom="-".concat(t,"px"),u.setOpacity(1-t/d.clientHeight)}})),window.addEventListener("touchend",(function(){f&&(f=!1,d.style.removeProperty("bottom"),d.style.removeProperty("transition"),h>24&&u.endSwipe(!1))}))}}};var d=null;function u(e){return y.apply(this,arguments)}function y(){return(y=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var n,o,s,c,l,u,y,f,m,p,v,b,g,w,S,k,L,T,A,_,E,I,x,P,q,C;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===d){n=_createForOfIteratorHelper(window.pageModules);try{for(n.s();!(o=n.n()).done;)(s=o.value).deinit&&s.deinit()}catch(e){n.e(e)}finally{n.f()}}else d.progress.remove(),d.cancelled=!0,clearInterval(d.progressTimer);return(c=document.createElement("div")).className="page-progress",c.style.width="0",document.querySelector(".navbar").appendChild(c),l=0,u=setInterval((function(){l=Math.min(l+10*Math.random(),90),c.style.width="".concat(l,"%")}),100),d=y={progress:c,progressTimer:u,cancelled:!1},e.next=11,fetch(t);case 11:return e.next=13,e.sent.text();case 13:if(f=e.sent,!y.cancelled){e.next=16;break}return e.abrupt("return");case 16:d=null,m=(new DOMParser).parseFromString(f,"text/html"),p=[],v=_createForOfIteratorHelper(m.querySelectorAll("[rel=stylesheet]"));try{for(v.s();!(b=v.n()).done;)g=b.value,w=g.getAttribute("href"),a.has(w)||function(){a.add(w);var e=document.adoptNode(g);p.push(new Promise((function(t){return e.addEventListener("load",t)}))),document.head.appendChild(e)}()}catch(e){v.e(e)}finally{v.f()}i.clear(),S=_createForOfIteratorHelper(m.querySelectorAll("body > script"));try{for(S.s();!(k=S.n()).done;)L=k.value,T=L.getAttribute("src"),i.add(T),r.has(T)||function(){r.add(T);var e=document.createElement("script");p.push(new Promise((function(t){return e.addEventListener("load",t)}))),e.src=T,document.body.appendChild(e)}()}catch(e){S.e(e)}finally{S.f()}return e.next=26,Promise.all(p);case 26:if(!y.cancelled){e.next=28;break}return e.abrupt("return");case 28:c.style.width="100%",c.style.opacity="1",clearInterval(u),setTimeout((function(){c.style.opacity="0"}),250),setTimeout((function(){c.remove()}),500),A=document.adoptNode(m.querySelector("#content")),document.querySelector("#content").replaceWith(A),document.querySelector(".navbar").className=m.querySelector(".navbar").className,document.querySelector(".navbar-title").textContent=m.querySelector(".navbar-title").textContent,document.title=m.title,_=_createForOfIteratorHelper(A.querySelectorAll("script"));try{for(_.s();!(E=_.n()).done;){I=E.value,x=document.createElement("script"),P=_createForOfIteratorHelper(I.attributes);try{for(P.s();!(q=P.n()).done;)C=q.value,x.setAttribute(C.name,C.value)}catch(e){P.e(e)}finally{P.f()}x.textContent=I.textContent,I.replaceWith(x)}}catch(e){_.e(e)}finally{_.f()}window.scrollTo(0,0),h();case 42:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){var e,t=_createForOfIteratorHelper(window.pageModules);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.script&&!i.has(n.script)||(n.init(!n.executed),n.executed=!0)}}catch(e){t.e(e)}finally{t.f()}}window.pageModules=[e,t,s,c,l],window.addEventListener("popstate",(function(){u(location.href)})),window.addEventListener("click",(function(e){if(!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||e.defaultPrevented)){var t=e.target;"A"===t.tagName&&location.protocol===t.protocol&&location.host===t.host&&function(e){return"_self"===e.target||""===e.target||("_top"===e.target||"_parent"===e.target)&&window.parent===window}(t)&&"skip"!==t.dataset.pjax&&(location.pathname===t.pathname&&""!==t.hash||(e.preventDefault(),history.pushState(null,"",t.href),u(t.href).catch((function(e){console.error("PJAX: PJAX failed, fallback to set location.href"),console.error(e),location.href=t.href}))))}})),document.addEventListener("DOMContentLoaded",(function(){r=new Set(Array.from(document.querySelectorAll("script")).map((function(e){return e.getAttribute("src")}))),i=new Set(r),a=new Set(Array.from(document.querySelectorAll("[rel=stylesheet]")).map((function(e){return e.getAttribute("href")}))),h()}))}();